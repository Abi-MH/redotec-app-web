{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4 text-center">Crear Nueva Tarea</h1>

    <form action="/tasks/create/" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-3">
            <label for="companyname" class="form-label">Nombre de la Empresa</label>
            <input type="text" name="companyname" id="companyname" class="form-control" value="{{ form.companyname.value|default_if_none:'' }}">
        </div>
        <div class="mb-3">
            <label for="workreason" class="form-label">Razón del Trabajo</label>
            <input type="text" name="workreason" id="workreason" class="form-control" value="{{ form.workreason.value|default_if_none:'' }}">
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Descripción</label>
            <textarea name="description" id="description" class="form-control">{{ form.description.value|default_if_none:'' }}</textarea>
        </div>

        <div class="mb-3">
            <label for="payment" class="form-label">Pago</label>
            <input type="number" name="payment" id="payment" class="form-control" value="{{ form.payment.value|default_if_none:0 }}">
        </div>

     <!-- Campo para marcar como importante -->
        <div class="mb-3">
            <label for="important" class="form-check-label">
                Marcar como importante
            </label>
            {{ form.important }}
        </div>
        <div class="mb-3">
            <label for="payment_pdf" class="form-label">PDF de Pago (Opcional)</label>
            <input type="file" name="payment_pdf" id="payment_pdf" class="form-control">
        </div>

        <div class="mb-3">
            <label for="payment_image" class="form-label">Imagen de Pago (Opcional)</label>
            <input type="file" name="payment_image" id="payment_image" class="form-control">
        </div>

        <div class="mb-3">
            <label for="payment_xml" class="form-label">XML de Pago (Opcional)</label>
            <input type="file" name="payment_xml" id="payment_xml" class="form-control">
        </div>

        <button type="submit" class="btn btn-primary w-100">Crear Tarea</button>

        {% if error %}
        <div class="alert alert-danger mt-3" role="alert">
            {{ error }}
        </div>
        {% endif %}
    </form>
</div>
{% endblock %}
